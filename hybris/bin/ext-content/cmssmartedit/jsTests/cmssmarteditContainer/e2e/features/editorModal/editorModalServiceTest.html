<!DOCTYPE html>
<html>

<head>
    <base href="../../../../../" />

    <!--3rd prty libs-->
    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/angular-route/angular-route.js"></script>
    <script src="bower_components/angular-resource/angular-resource.js"></script>
    <script src="bower_components/angular-bootstrap/ui-bootstrap-tpls.min.js"></script>
    <script src="bower_components/angular-mocks/angular-mocks.js"></script>
    <script src="bower_components/angular-translate/angular-translate.min.js"></script>
    <script src="bower_components/angular-translate-loader-static-files/angular-translate-loader-static-files.min.js"></script>
    <script src="bower_components/ui-select/dist/select.min.js"></script>
    <script src="bower_components/angular-ui-tinymce/src/tinymce.js"></script>
    <script src="bower_components/moment/min/moment-with-locales.min.js"></script>
    <script src="bower_components/eonasdan-bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js"></script>
	<script src="buildArtifacts/static-resources/thirdparties/angular-sanitize/angular-sanitize.min.js"></script>

    <!-- 3rd party css -->
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="bower_components/eonasdan-bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css" />

    <!--libs-->
    <script src="buildArtifacts/seLibraries/smartEditContainer/services/eventservice.js"></script>
    <script src="buildArtifacts/seLibraries/smartEditContainer/services/languageService.js"></script>
    <script src="buildArtifacts/seLibraries/smartEditContainer/services/resourceLocations.js"></script>
    <script src="buildArtifacts/seLibraries/smartEditContainer/services/functions.js"></script>
    <script src="buildArtifacts/seLibraries/smartEditContainer/services/languageService.js"></script>
    <script src="buildArtifacts/seLibraries/smartEditContainer/services/restServiceFactory.js"></script>
    <script src="buildArtifacts/seLibraries/smartEditContainer/services/i18nInterceptor.js"></script>
    
    <script>
        angular.module('sharedDataServiceModule', []).factory('sharedDataService', function($q) {
            var storage = {};
            return {
                get: function(key) {
                    return $q.when(storage[key]);
                },
                set: function(key, value) {
                    storage[key] = value;
                }
            }
        });
        angular.module('experienceInterceptorModule', [])
            .constant("CONTEXT_CATALOG", "CURRENT_CONTEXT_CATALOG")
            .constant("CONTEXT_CATALOG_VERSION", "CURRENT_CONTEXT_CATALOG_VERSION").constant("CONTEXT_SITE_ID", "CURRENT_CONTEXT_SITE_ID")
    </script>
    <script src="buildArtifacts/seLibraries/smartEditContainer/services/loadConfigurationsService.js"></script>
    <script src="buildArtifacts/seLibraries/smartEditContainer/services/modalService.js"></script>
    <script src="buildArtifacts/seLibraries/smartEditContainer/services/restServiceFactory.js"></script>
    <script src="buildArtifacts/seLibraries/smartEditContainer/services/translateService.js"></script>
    <script src="buildArtifacts/seLibraries/smartEditContainer/services/tabset/yTabset.js"></script>
    <script src="buildArtifacts/seLibraries/smartEditContainer/services/confirmationModalService.js"></script>
    <script src="buildArtifacts/seLibraries/smartEditContainer/services/genericEditor/adapters/fetchDataHandlerInterface.js"></script>
    <script src="buildArtifacts/seLibraries/smartEditContainer/services/genericEditor/adapters/fetchMediaDataHandler.js"></script>
    <script src="buildArtifacts/seLibraries/smartEditContainer/services/genericEditor/adapters/fetchEnumDataHandler.js"></script>
    <script src="buildArtifacts/seLibraries/smartEditContainer/services/genericEditor/genericEditor.js"></script>
    <script src="buildArtifacts/seLibraries/smartEditContainer/services/genericEditor/genericEditorField.js"></script>
    <script src="buildArtifacts/seLibraries/smartEditContainer/services/genericEditor/dateTimePicker/dateTimePicker.js"></script>
    <script src="buildArtifacts/seLibraries/smartEditContainer/services/localizedElement/localizedElement.js"></script>
    <script src="buildArtifacts/seLibraries/smartEditContainer/services/tabset/yTabset.js"></script>

    <script src="web/features/commons/webservicesConstants/cmsWebservicesConstants.js"></script>
    <script src="web/features/cmssmarteditContainer/editorModal/editorModalService.js"></script>
    <script src="web/features/cmssmarteditContainer/editorTabset/editorTabset.js"></script>
    <script src="web/features/cmssmarteditContainer/editorTabset/tabs/generic/genericTab.js"></script>
    <script src="web/features/cmssmarteditContainer/editorTabset/tabs/basic/basicTab.js"></script>
    <script src="web/features/cmssmarteditContainer/editorTabset/tabs/admin/adminTab.js"></script>
    <script src="web/features/cmssmarteditContainer/editorTabset/tabs/visibility/visibilityTab.js"></script>

    <script src="buildArtifacts/seLibraries/smartEditContainer/services/templates.js"></script>
    <script src="jsTarget/web/features/commons/templates.js"></script>
    <script src="jsTarget/web/features/cmssmarteditContainer/templates.js"></script>
    <script src="jsTests/cmssmarteditContainer/e2e/features/editorModal/backendMocks.js"></script>
    <script src="jsTests/cmssmarteditContainer/e2e/features/editorModal/editorModalServiceTestFixture.js"></script>


    <style>

        //as the tests are in the wrong project a dummy style is applied
        .modal-header button.close{
                display: block;
                width: 10px;
                height:10px;
        }

        .modal-header button.close>span{
            display: block;
            width: 10px;
            height: 10px;

        }
        .selectize-control > .selectize-dropdown {
            top: 36px;
        }

        .ui-select-focusser {
            display: none;
        }

        .select2-container .select2-choice {
            height: auto;
        }

        .thumbnail {
            width: 64px;
            display: inline;
        }
        .sm-tab-error {
            background-image: url('/jsTests/cmssmarteditContainer/e2e/features/editorTabset/Images/error-icon.png');
            background-repeat: no-repeat;
            padding-left: 20px;
            color: red
        }
    </style>

    <script>
    angular.module('renderServiceModule', [])
        .factory('renderService', function() {
            return {
                renderComponent: function() {

                }
            };
        });

    angular.module('gatewayProxyModule', [])
        .factory('gatewayProxy', function() {
            return {
                initForService: function() {}
            };
        });
    </script>
</head>

<body data-ng-app="editorEnablerServiceTestFixture" data-ng-controller="editorEnablerServiceE2ETestController as controller">
    <div class="container-fluid">
        <div class="row">
            <button id="openCMSParagraphComponentEditorModal" class="btn btn-primary" data-ng-click="controller.clickEditButton('CMSParagraphComponent', 'MyParagraph')">
                Edit CMSParagraphComponent: MyParagraph
            </button>
        </div>

        <div class="row">
            Mock Backend Calls
        </div>
        <div class="row">
            <button id='mockBackendToPassSave' class='btn btn-primary' data-ng-click="controller.mockBackendToPassSave()">Save will pass</button>
            <button id='mockBackendToFailSave' class='btn btn-primary' data-ng-click="controller.mockBackendToFailSave()">Save will fail</button>
            <button id='unrelatedValidation' class='btn btn-primary' data-ng-click="controller.mockBackendToTriggerUnrelatedValidationErrors()">Trigger Unrelated Validation</button>
        </div>
    </div>
</body>

</html>
